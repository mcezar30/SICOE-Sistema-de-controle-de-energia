CREATE DATABASE SICOE CHARACTER SET utf8 COLLATE utf8_general_ci;

USE SICOE;

CREATE TABLE TIPOUSUARIO (
	CODTIPUSU INT UNSIGNED NOT NULL AUTO_INCREMENT,
	DESTIPUSU VARCHAR(50) DEFAULT 'C',
    CONSTRAINT pk_tipousuario PRIMARY KEY(CODTIPUSU)
);

CREATE TABLE USUARIO (
  EMAUSU     VARCHAR(50) NOT NULL,
  NOMUSU    VARCHAR(50) NOT NULL,
  PASUSU     VARCHAR(32),
  CPFUSU   INTEGER (11),
  TIPUSU INT UNSIGNED  NOT NULL,
  CONSTRAINT pk_usuario PRIMARY KEY(EMAUSU),
  CONSTRAINT fk_tipousuario FOREIGN KEY(TIPUSU)
  REFERENCES TIPOUSUARIO (CODTIPUSU)
  );

CREATE TABLE TIPOPRODUTO(
	CODTIPPRO INT UNSIGNED NOT NULL AUTO_INCREMENT,
	DESTIPPRO VARCHAR(50) NOT NULL,
	CONSTRAINT pk_tipoproduto PRIMARY KEY(CODTIPPRO)
);

CREATE TABLE PRODUTO(
	CODPRO INT UNSIGNED NOT NULL AUTO_INCREMENT,
	NOMPRO VARCHAR(50) NOT NULL,
	DESPRO VARCHAR(50) NOT NULL,
	IMGPRO VARCHAR(50) NOT NULL,
	VOLPRO FLOAT NOT NULL,
    CONSTRAINT pk_produto PRIMARY KEY(CODPRO)
);

CREATE TABLE GRANDEZAPRODUTO(
	CODGRAPRO INT UNSIGNED NOT NULL AUTO_INCREMENT,
	POTPRO FLOAT NOT NULL,
	POTSBYPRO FLOAT NOT NULL,
	CODPRO INT UNSIGNED NOT NULL,
    CONSTRAINT pk_grandeza PRIMARY KEY(CODGRAPRO),
    CONSTRAINT fk_grandezaproduto FOREIGN KEY(CODPRO)
    REFERENCES PRODUTO (CODPRO)
);


CREATE TABLE ESTIMATIVAPRODUTO(
    EMAUSU     VARCHAR(50) NOT NULL,
	CODPRO INT UNSIGNED NOT NULL,
	QTDEPRO INTEGER,
	POTPRO FLOAT NOT NULL,
	TEMESTPRO INTEGER,
	ESTRED INTEGER,
	CONSTRAINT pk_tipoproduto PRIMARY KEY(EMAUSU, CODPRO)
);

INSERT INTO PRODUTO(NOMPRO, DESPRO, IMGPRO, VOLPRO)
VALUES ('Microondas', 'Eletrodomestico', 'img/produto/microondas.jpg', '127');

INSERT INTO PRODUTO(NOMPRO, DESPRO, IMGPRO, VOLPRO)
VALUES ('Liquitificador', 'Eletrodomestico', 'img/produto/liquidificador.jpg', '127');

INSERT INTO PRODUTO(NOMPRO, DESPRO, IMGPRO, VOLPRO)
VALUES ('Geladeira', 'Eletrodomestico', 'img/produto/geladeira.jpg', '127');

INSERT INTO GRANDEZAPRODUTO(POTPRO, POTSBYPRO, CODPRO)
VALUES ('300', '100', '1');

INSERT INTO GRANDEZAPRODUTO(POTPRO, POTSBYPRO, CODPRO)
VALUES ('200', '50', '1');

INSERT INTO GRANDEZAPRODUTO(POTPRO, POTSBYPRO, CODPRO)
VALUES ('400', '50', '1');

INSERT INTO GRANDEZAPRODUTO(POTPRO, POTSBYPRO, CODPRO)
VALUES ('300', '100', '2');

INSERT INTO GRANDEZAPRODUTO(POTPRO, POTSBYPRO, CODPRO)
VALUES ('200', '50', '2');

INSERT INTO GRANDEZAPRODUTO(POTPRO, POTSBYPRO, CODPRO)
VALUES ('400', '50', '2');

INSERT INTO GRANDEZAPRODUTO(POTPRO, POTSBYPRO, CODPRO)
VALUES ('300', '100', '3');

INSERT INTO GRANDEZAPRODUTO(POTPRO, POTSBYPRO, CODPRO)
VALUES ('200', '50', '3');

INSERT INTO GRANDEZAPRODUTO(POTPRO, POTSBYPRO, CODPRO)
VALUES ('400', '50', '3');

INSERT INTO TIPOUSUARIO(CODTIPUSU, DESTIPUSU)
VALUES (1, 'Administrador');

INSERT INTO TIPOUSUARIO(CODTIPUSU, DESTIPUSU)
VALUES (2, 'Comum');

INSERT INTO USUARIO(EMAUSU, NOMUSU, PASUSU, CPFUSU, TIPUSU)
VALUES ('fkadosh@yahoo.com.br', 'Fábio Palmela de Oliveira', '123', '05907569662', 1);

INSERT INTO USUARIO(EMAUSU, NOMUSU, PASUSU, CPFUSU, TIPUSU)
VALUES ('mario@armario.com.br', 'Mário Cezar', '123', '05907569662', 2);

INSERT INTO USUARIO(EMAUSU, NOMUSU, PASUSU, CPFUSU, TIPUSU)
VALUES ('felipe@pucminas.com.br', 'Felipe Pereira', '123', '05907569662', 2);

INSERT INTO USUARIO(EMAUSU, NOMUSU, PASUSU, CPFUSU, TIPUSU)
VALUES ('teste@teste.com.br', 'Usuário Teste', '123', '05907569662', 2);

INSERT INTO ESTIMATIVAPRODUTO(EMAUSU, CODPRO, QTDEPRO, POTPRO, TEMESTPRO)
VALUES ('fkadosh@yahoo.com.br', '1', '3', '250', '600');

INSERT INTO ESTIMATIVAPRODUTO(EMAUSU, CODPRO, QTDEPRO, POTPRO, TEMESTPRO)
VALUES ('fkadosh@yahoo.com.br', '2', '2', '230', '500');

INSERT INTO ESTIMATIVAPRODUTO(EMAUSU, CODPRO, QTDEPRO, POTPRO, TEMESTPRO)
VALUES ('fkadosh@yahoo.com.br', '3', '7', '300', '260');

INSERT INTO ESTIMATIVAPRODUTO(EMAUSU, CODPRO, QTDEPRO, POTPRO, TEMESTPRO)
VALUES ('mario@armario.com.br', '1', '3', '250', '20');

INSERT INTO ESTIMATIVAPRODUTO(EMAUSU, CODPRO, QTDEPRO, POTPRO, TEMESTPRO)
VALUES ('mario@armario.com.br', '2', '2', '230', '40');

INSERT INTO ESTIMATIVAPRODUTO(EMAUSU, CODPRO, QTDEPRO, POTPRO, TEMESTPRO)
VALUES ('mario@armario.com.br', '3', '7', '300', '30');

INSERT INTO ESTIMATIVAPRODUTO(EMAUSU, CODPRO, QTDEPRO, POTPRO, TEMESTPRO)
VALUES ('felipe@pucminas.com.br', '3', '3', '250', '90');

INSERT INTO ESTIMATIVAPRODUTO(EMAUSU, CODPRO, QTDEPRO, POTPRO, TEMESTPRO)
VALUES ('felipe@pucminas.com.br', '2', '2', '230', '90');

INSERT INTO ESTIMATIVAPRODUTO(EMAUSU, CODPRO, QTDEPRO, POTPRO, TEMESTPRO)
VALUES ('felipe@pucminas.com.br', '1', '7', '300', '90');
